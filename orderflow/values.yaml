hpa:
  enabled: true
  minReplicas: 2
  maxReplicas: 10
  targetCPUUtilizationPercentage: 50

imagePullSecrets:
  - name: ghcr-secret

image:
  repository: ghcr.io/piotrsacharuk/order-flow
  pullPolicy: Always
  tag: "0.3.1"

strategy: canary
canarySteps:
  - setWeight: 100

service:
  name: orderflow
  type: ClusterIP
  port: 5000
  targetPort: 5000

resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 200m
    memory: 256Mi

env:
  ENVIRONMENT: production

ingress:
  enabled: true
  className: traefik
  host: orderflow.k3d.local
  annotations:
    cert-manager.io/cluster-issuer: ca-issuer
    cert-manager.io/common-name: orderflow.k3d.local
    traefik.ingress.kubernetes.io/router.entrypoints: web,websecure
  tls:
    enabled: true
    secretName: orderflow-tls

monitoring:
  enabled: true